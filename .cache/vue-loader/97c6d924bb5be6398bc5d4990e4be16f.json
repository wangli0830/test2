{"remainingRequest":"/Users/wangli/project/qa_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangli/project/qa_web/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangli/project/qa_web/src/components/HelloWorld.vue","mtime":1615367956544},{"path":"/Users/wangli/project/qa_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangli/project/qa_web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangli/project/qa_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangli/project/qa_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFncmVlbWVudENsZWFyUmVzdWx0LCB0ZXN0MSAscXVlcnlFeGVjQXQsd2l0aGhvbGRTdGFydH0gZnJvbSAiLi4vYXBpL2luZGV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBwcm9wczogeyAgLy/mjqXmlLblj4LmlbAKICAgIG1zZzogU3RyaW5nLAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZ3JlZW1lbnRVaWQ6ICIiLAogICAgICBjaGFubmVsczpbCiAgICAgICAge3ZhbHVlOiIxIixsYWJlbDoi5b6u5L+hIix9LAogICAgICAgIHt2YWx1ZToiMiIsbGFiZWw6IuaUr+S7mOWunSIsfQogICAgICBdLAogICAgICBjaGFubmVsOiIiLAogICAgICBhZ3JlZW1lbnRfaWQ6IiIsCiAgICAgIHdpdGhob2xkX2NoYW5uZWw6IiIsCiAgICAgIGFncmVlbWVudElEOiIiLAogICAgICB0YWJsZURhdGE6IFtdCgogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBhZ3JlZW1lbnRDbGVhcigpIHsKICAgICAgaWYgKCF0aGlzLmFncmVlbWVudFVpZCl7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt3VpZCIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgYWdyZWVtZW50Q2xlYXJSZXN1bHQodGhpcy5hZ3JlZW1lbnRVaWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcywgInJlcyIpOwogICAgICAgIGlmIChyZXMgPT0gJ3N1Y2MnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIua4hemZpOWujOaIkCIsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRfZXhlY19hdCgpewogICAgICAvLyB0aGlzLiRhbGVydCggJ3ds5ZCR5L2g5Y+R6LW35LqG5LiK5Y6V5omA55qE6K+35rGC77yaJyx7CiAgICAgIC8vICAgY3VzdG9tQ2xhc3M6IndsX3Rlc3QiLAogICAgICAvLyAgIHNob3dDbG9zZTp0cnVlLAogICAgICAvLyAgIGNlbnRlcjp0cnVlLAogICAgICAvLyAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5qyj54S25o6l5Y+XJywKICAgICAgLy8gICBzaG93Q2FuY2VsQnV0dG9uOnRydWUsCiAgICAgIC8vICAgY2FuY2VsQnV0dG9uVGV4dDon5ouS57ud5L2gJywKICAgICAgLy8gICBjYWxsYmFjazogKCkgPT4ge30KICAgICAgLy8gfSk7CgogICAgICBpZiAoIXRoaXMuY2hhbm5lbCB8fCAhdGhpcy5hZ3JlZW1lbnRfaWQpewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6Iuivt+mAieaLqeafpeivoiDmuKDpgZMvYWdyZWVtZW50X2lkIiwKICAgICAgICAgIHR5cGU6ImVycm9yIgogICAgICAgIH0pOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhbm5lbCkKICAgICAgY29uc29sZS5sb2codGhpcy5hZ3JlZW1lbnRfaWQpCiAgICAgIGxldCBwYXJhID0gewogICAgICAgICJjaGFubmVsIjp0aGlzLmNoYW5uZWwsCiAgICAgICAgImFncmVlbWVudF9pZCI6dGhpcy5hZ3JlZW1lbnRfaWQKICAgICAgfQogICAgICBxdWVyeUV4ZWNBdChwYXJhKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMsInJlcyIpOwogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEKICAgICAgICBpZiAocmVzLm1zZyA9PSAn5p+l5peg5pWw5o2uJyl7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6Iuepuu+8jOacquafpeivouWIsOiusOW9le+8jOivt+ajgOafpei+k+WFpSIsCiAgICAgICAgICAgIHR5cGU6ImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgfSk7CiAgICB9LAoKICAgIHdpdGhob2xkX3N0YXJ0KCl7CiAgICAgIGlmICghdGhpcy53aXRoaG9sZF9jaGFubmVsIHx8ICF0aGlzLmFncmVlbWVudElEKXsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiLor7fpgInmi6nku6PmiaPmuKDpgZMv6K6i6ZiF5Y2V5Y+3YWdyZWVtZW50X2lkIiwKICAgICAgICAgIHR5cGU6ImVycm9yIgogICAgICAgIH0pOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMud2l0aGhvbGRfY2hhbm5lbCkKICAgICAgY29uc29sZS5sb2codGhpcy5hZ3JlZW1lbnRJRCkKICAgICAgbGV0IHdpdGhob2xkUGFyYSA9IHsKICAgICAgICAiY2hhbm5lbCI6dGhpcy53aXRoaG9sZF9jaGFubmVsLAogICAgICAgICJhZ3JlZW1lbnRfaWQiOnRoaXMuYWdyZWVtZW50SUQKICAgICAgfQogICAgICB3aXRoaG9sZFN0YXJ0KHdpdGhob2xkUGFyYSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLCJyZXMiKTsKICAgICAgICBpZiAocmVzLm1zZyA9PSAn5p+l5peg5pWw5o2uJyl7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6Iuepuu+8jOacquafpeivouWIsOiusOW9le+8jOivt+ajgOafpei+k+WFpSIsCiAgICAgICAgICAgIHR5cGU6ImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChyZXMuY29kZSA9PSAnU1VDQ0VTUycpewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiLmk43kvZzmiJDlip/vvIzor7fmn6Xor6Lku6PmiaPmlbDmja4iLAogICAgICAgICAgICB0eXBlOiJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgfSk7CgogICAgfSwKCgogICAgLy/ojIPkvovlhpnms5XvvIzmmoLml7bmsqHmnInkvb/nlKjliLAKICAgIGFkZHJlc3NTdWIoKSB7CiAgICAgIHRlc3QxKHsKICAgICAgICBuYW1lOiB0aGlzLnZhbHVlCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewoKICAgICAgICBjb25zb2xlLmxvZyhyZXMsICJyZXMiKTsgICAgICAgIC8vIOaOp+WItuWPsOi+k+WHuuWTjeW6lAogICAgICAgIGFsZXJ0KHJlcy5tc2cgfHwgIuayoeaJvuWIsG1zZyIpICAgICAgLy8g5by556qXIG1zZwogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+aBreWWnOS9oO+8jOi/meaYr+S4gOadoeaIkOWKn+a2iOaBrycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogIH0sCn0KCgoK"},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hello\">\n\n    <div class=\"ul\">\n      清除金融订阅数据： <el-input v-model=\"agreementUid\" placeholder=\"请输入用户uid\"></el-input>     <!-- el-input 【输入框】输入的内容存在\"agreementUid\"变量里 -->\n      <el-button @click=\"agreementClear\">提交</el-button>                                   <!--【提交】按钮，调用script.methods.agreementClear方法 -->\n    </div>\n\n    <div class=\"ul\">\n      执行代扣：\n      <el-select v-model=\"withhold_channel\" placeholder=\"选择代扣渠道\">\n        <el-option\n            v-for=\"item in channels\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n      <el-input v-model=\"agreementID\" placeholder=\"请输入订阅单agreement_id\"></el-input>\n      <el-button @click=\"withhold_start\">执行</el-button>\n    </div>\n    <div class=\"ul\">\n      查看代扣数据：\n      <el-select v-model=\"channel\" placeholder=\"请选择渠道\">\n        <el-option\n            v-for=\"item in channels\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n      <el-input v-model=\"agreement_id\" placeholder=\"请输入金融侧agreement_id\"></el-input>\n      <el-button @click=\"get_exec_at\">查询</el-button>\n    </div>\n\n    <div class=\"withhold_table\" id=\"withhold_table\">\n      <template v-if = \"tableData.length\">\n        <el-table\n            :data=\"tableData\"\n            style=\"width: 100%\">\n          <el-table-column\n              prop=\"withhold_id\"\n              label=\"代扣id\"\n              width=\"180\">\n          </el-table-column>\n          <el-table-column\n              prop=\"subject\"\n              label=\"代扣subject\"\n              width=\"240\">\n          </el-table-column>\n          <el-table-column\n              prop=\"status\"\n              label=\"代扣状态\"\n              width=\"130\">\n          </el-table-column>\n          <el-table-column\n              prop=\"exec_at\"\n              label=\"代扣日期\"\n              width=\"130\">\n          </el-table-column>\n          <el-table-column\n              prop=\"order_start_time\"\n              label=\"本单开始时间\"\n              width=\"150\">\n          </el-table-column>\n          <el-table-column\n              prop=\"order_end_time\"\n              label=\"本单结束时间\"\n              width=\"150\">\n          </el-table-column>\n          <el-table-column\n              prop=\"reason\"\n              label=\"代扣失败原因\"\n              width=\"180\">\n          </el-table-column>\n\n        </el-table>\n      </template>\n    </div>\n\n\n  </div>\n</template>\n\n\n\n<script>\nimport { agreementClearResult, test1 ,queryExecAt,withholdStart} from \"../api/index\";\nexport default {\n  name: \"HelloWorld\",\n  props: {  //接收参数\n    msg: String,\n  },\n\n  data() {\n    return {\n      agreementUid: \"\",\n      channels:[\n        {value:\"1\",label:\"微信\",},\n        {value:\"2\",label:\"支付宝\",}\n      ],\n      channel:\"\",\n      agreement_id:\"\",\n      withhold_channel:\"\",\n      agreementID:\"\",\n      tableData: []\n\n    };\n  },\n\n  methods: {\n    agreementClear() {\n      if (!this.agreementUid){\n        return this.$message({\n          message: \"请输入用户uid\",\n          type: \"error\"\n        });\n      }\n      agreementClearResult(this.agreementUid).then((res) => {\n        console.log(res, \"res\");\n        if (res == 'succ') {\n          this.$message({\n            message: \"清除完成\",\n            type: \"success\"\n          });\n        }\n      });\n    },\n    get_exec_at(){\n      // this.$alert( 'wl向你发起了上厕所的请求：',{\n      //   customClass:\"wl_test\",\n      //   showClose:true,\n      //   center:true,\n      //   confirmButtonText: '欣然接受',\n      //   showCancelButton:true,\n      //   cancelButtonText:'拒绝你',\n      //   callback: () => {}\n      // });\n\n      if (!this.channel || !this.agreement_id){\n        return this.$message({\n          message:\"请选择查询 渠道/agreement_id\",\n          type:\"error\"\n        });\n      }\n      console.log(this.channel)\n      console.log(this.agreement_id)\n      let para = {\n        \"channel\":this.channel,\n        \"agreement_id\":this.agreement_id\n      }\n      queryExecAt(para).then((res) => {\n        console.log(res,\"res\");\n        this.tableData = res.data\n        if (res.msg == '查无数据'){\n          return this.$message({\n            message:\"空，未查询到记录，请检查输入\",\n            type:\"error\"\n          });\n        }\n\n      });\n    },\n\n    withhold_start(){\n      if (!this.withhold_channel || !this.agreementID){\n        return this.$message({\n          message:\"请选择代扣渠道/订阅单号agreement_id\",\n          type:\"error\"\n        });\n      }\n      console.log(this.withhold_channel)\n      console.log(this.agreementID)\n      let withholdPara = {\n        \"channel\":this.withhold_channel,\n        \"agreement_id\":this.agreementID\n      }\n      withholdStart(withholdPara).then((res) => {\n        console.log(res,\"res\");\n        if (res.msg == '查无数据'){\n          return this.$message({\n            message:\"空，未查询到记录，请检查输入\",\n            type:\"error\"\n          });\n        }\n        if (res.code == 'SUCCESS'){\n          return this.$message({\n            message:\"操作成功，请查询代扣数据\",\n            type:\"success\"\n          });\n        }\n\n      });\n\n    },\n\n\n    //范例写法，暂时没有使用到\n    addressSub() {\n      test1({\n        name: this.value\n      }).then((res) => {\n\n        console.log(res, \"res\");        // 控制台输出响应\n        alert(res.msg || \"没找到msg\")      // 弹窗 msg\n        this.$message({\n          message: '恭喜你，这是一条成功消息',\n          type: 'success'\n        });\n      });\n    },\n  },\n}\n\n\n\n</script>\n\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.hello {\n  padding: 20px;\n  text-align: left;\n}\n.ul {\n  margin-top: 10px;\n  margin-bottom: 40px;\n}\n\n.withhold_table {\n  margin-top: 20px;\n  margin-bottom: 50px;\n}\n.ul .el-input {\n  width: 300px;\n  margin-right: 20px;\n}\n.hello .el-select {\n  margin-right: 20px;\n}\n</style>\n"]}]}